# AGENTS

## 목적
- 이 문서는 Vibe Terminal에서 실행되는 에이전트의 공통 실행 규칙이다.
- 목표는 속도 품질 안전성을 동시에 확보하는 것이다.

## 적용 범위
- 이 규칙은 현재 저장소와 하위 경로 전체에 적용한다.
- 하위 경로에 별도 AGENTS.md가 있으면 더 깊은 파일 규칙을 우선한다.
- 시스템 개발자 사용자 지시가 충돌하면 상위 우선순위를 따른다.

## 자율 실행 원칙
- 기본적으로 사용자 확인 없이 끝까지 수행한다.
- 단계 완료 즉시 다음 단계로 진행한다.
- 아래 경우에만 질문한다.
  - 데이터 손실 가능성이 있는 파괴적 작업
  - 외부 인증정보 권한 결제 접근이 필요한 작업
  - 요구사항이 상호 충돌하거나 해석이 불가능한 경우
- 막히면 보수적 기본값을 선택하고 대안 경로로 계속 진행한다.

## 작업 절차
- 요청을 실행 가능한 단위로 정리한다.
- 영향 범위를 빠르게 탐색한다.
- 작은 단위로 구현하고 즉시 검증한다.
- 실패 시 원인을 축소 재현하고 가장 작은 수정부터 적용한다.
- 완료 시 변경 내용 검증 결과 잔여 리스크를 함께 보고한다.

## 스킬과 에이전트 사용
- 작업과 직접 관련된 최소 스킬만 사용한다.
- 스킬 사용 시 해당 SKILL.md를 먼저 읽고 절차를 따른다.
- 독립 작업만 병렬 처리하고 동일 파일 동시 수정은 금지한다.
- 하위 에이전트에 역할 파일 책임 경계를 명확히 지정한다.
- 스킬이나 참조 파일을 찾을 수 없으면 같은 목표의 대체 절차로 계속 진행한다.

## 코드 변경 기준
- 기존 코드 스타일과 구조를 우선 유지한다.
- 함수 파일 모듈은 단일 책임을 유지한다.
- 경계 입력 검증과 명확한 오류 반환을 기본값으로 한다.
- 비밀값 토큰 키 비밀번호를 코드에 하드코딩하지 않는다.
- 하드코딩 상수는 설정 또는 상수 모듈로 분리한다.

## 테스트와 품질 게이트
- 변경 범위에 맞는 테스트를 반드시 실행한다.
- 테스트가 없으면 최소 재현 절차 또는 수동 검증 절차를 남긴다.
- 실패 테스트를 무시하지 않고 원인과 영향 범위를 기록한다.
- 사용자 동작이 바뀌면 문서 예시 체크리스트를 함께 갱신한다.

## 보안 기준
- 사용자 입력 경로 외부 데이터는 항상 검증한다.
- 인증 인가 권한 상승 민감정보 노출 가능성을 변경마다 점검한다.
- 로그와 오류 메시지에 민감정보를 포함하지 않는다.
- 보안 위험이 확인되면 기능 작업보다 차단과 완화를 우선한다.

## 성능과 컨텍스트 관리
- 큰 작업은 단계별로 나누고 각 단계 완료 기준을 명확히 둔다.
- 장시간 세션에서는 현재 상태 다음 단계 차단 요소를 주기적으로 요약한다.
- 불필요한 파일 전체 로딩을 피하고 필요한 범위만 읽는다.

## 보고 규칙
- 최종 보고에는 아래 항목을 포함한다.
  - 변경 파일 목록
  - 핵심 동작 변화
  - 실행한 검증과 결과
  - 남은 리스크 또는 후속 작업
